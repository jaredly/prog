<html>
<head>
    <title>Canvas Tester</title>
    <style>
        #display div {
        }
        #display {
            background-color: #f0fefe;
            border: 2px solid darkblue;
            height: 50%;
            overflow: auto;
        }
        #entry {
            border: none;
            width: 100%;
            background-color: #f0fefe;
            padding-left: 10px;
        }
    </style>
    <script src="canvastext.js"></script>
</head>
<body>
    <canvas id="canv"></canvas>
    <div id="display">
    <input id="entry">
    </div>
    <script>
    function $(e){return document.getElementById(e);}
    var canv = $("canv");canv.width=window.innerWidth;canv.height=window.innerHeight/2-40;
    var ctx = canv.getContext("2d");
    var entry = $("entry");
    var display = $("display");
    
    
var a=ctx.createLinearGradient(0,0,0,100);
a.addColorStop(0,"#525a38");
a.addColorStop(1,"#8e9c61");
ctx.fillStyle = a;
ctx.beginPath()
ctx.moveTo(0,20)
ctx.quadraticCurveTo(0,0,20,0)
ctx.lineTo(180,0)
ctx.quadraticCurveTo(200,0,200,20)
ctx.lineTo(200,80)
ctx.quadraticCurveTo(200,100,180,100)
ctx.lineTo(20,100)
ctx.quadraticCurveTo(0,100,0,80)
ctx.lineTo(0,20)
ctx.fill()


var a=ctx.createLinearGradient(0,5,0,100);
a.addColorStop(0,"#ffffff");
a.addColorStop(.12,"rgba(255,255,255,0)");
ctx.fillStyle = a;
ctx.beginPath()
ctx.moveTo(5,20)
ctx.quadraticCurveTo(5,5,20,5)
ctx.lineTo(180,5)
ctx.quadraticCurveTo(195,5,195,20)
ctx.lineTo(195,80)
ctx.quadraticCurveTo(195,95,180,95)
ctx.lineTo(20,95)
ctx.quadraticCurveTo(5,95,5,80)
ctx.lineTo(5,20)
ctx.fill()


CanvasTextFunctions.enable(ctx);
  var font = "serif";
  var fontsize = 30;
  var y = ctx.fontAscent(font,fontsize);
  ctx.strokeStyle = "rgba(0,0,0,0.75)";
  ctx.drawTextCenter( font, fontsize, 100, 50+y/2,
  "Click Me");

    function enter(v,x){
        if (typeof(x)=="undefined")x="";
        var that = document.createElement("div");
        console.log(that,display,entry);
        display.insertBefore(that,entry);
        that.innerHTML = ">>> "+v+"<div class='result'>"+x+"</div>";
    }
    
    entry.addEventListener("keypress",function(e){
        if (e.keyCode==13){
            try{
                enter(this.value,window.eval(this.value));
            }catch(e){
                enter(this.value,e.message);
            }
            this.value = "";
        }
    },false);
    </script>
</body>